<!DOCTYPE html>
<html lang="en">
    <head>
        <title><%= title %></title>
        <meta name="viewport" content="width=1000 initial-scale=1"/>
        <meta name="description" content="Detailed statistics for Tribal Wars 2">
        <link rel="stylesheet" href="/stylesheets/style.css" />
        <link rel="stylesheet" href="/stylesheets/stats.css" />
        <link rel="icon" type="image/png" href="/images/favicon.png"/>
        <script type="text/javascript">
            const {
                marketId,
                worldNumber
            } = <%- JSON.stringify(exportValues) %>

            const STATS_PAGE = 'ranking-<%= category %>'
        </script>
    </head>
    <body>
        <header></header>
        <main class="content-border">
            <h1>
                <a href="/"><%= siteName %></a> /
                Server <a href="/stats/<%= marketId %>/"><%= marketId.toUpperCase() %></a> /
                World <a href="/stats/<%= marketId %>/<%= world.num %>/"><%= world.name %></a><%= world.open ? '' : ' (Closed)' %> /
                <%= categoryUpper %>
            </h1>

            <div class="content">
                <div class="single">
                    <%- include('ranking-' + category + '.ejs') %>

                    <ul class="pagination">
                        <% if (pagination.showGotoFirst) { -%>
                            <li class="page"><a href="/stats/<%= marketId %>/<%= world.num %>/ranking/<%= category %>/">&lt;&lt;&lt; First</a></li>
                        <% } -%>

                        <% if (pagination.showGotoPrev) { -%>
                            <li class="page"><a href="/stats/<%= marketId %>/<%= world.num %>/ranking/<%= category %>/page/<%= (pagination.current - 1) %>">&lt; Previous</a></li>
                        <% } -%>

                        <% for (let i = pagination.start; i <= pagination.end; i++) { -%>
                            <% if (i === pagination.current) { -%>
                                <li class="page current"><a href="/stats/<%= marketId %>/<%= world.num %>/ranking/<%= category %>/page/<%= i %>"><%= i %></a></li>
                            <% } else { -%>
                                <li class="page"><a href="/stats/<%= marketId %>/<%= world.num %>/ranking/<%= category %>/page/<%= i %>"><%= i %></a></li>
                            <% } -%>
                        <% } -%>

                        <% if (pagination.showGotoNext) { -%>
                            <li class="page"><a href="/stats/<%= marketId %>/<%= world.num %>/ranking/<%= category %>/page/<%= (pagination.current + 1) %>">Next &gt;</a></li>
                        <% } -%>

                        <% if (pagination.showGotoLast) { -%>
                            <li class="page"><a href="/stats/<%= marketId %>/<%= world.num %>/ranking/<%= category %>/page/<%= pagination.last %>">Last &gt;&gt;&gt;</a></li>
                        <% } -%>
                    </ul>
                </div>
            </div>
        </main>

        <script type="text/javascript" src="/javascripts/utils.js"></script>
    </body>
</html>
